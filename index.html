<style>
  body,
  html,
  main {
    height: 100%;
  }
  main {
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
<main>
  <div id="loading">
     <p>Loading..</p>
  </div>
</main>

<script src="dist/wasm_exec.js"></script>
<script>
  (async function () {
    const go = new Go();
    // WebAssembly.instantiateStreaming is more efficient
    // but doesn't work on Safari
    WebAssembly
      .instantiate(fetch("dist/boids.wasm").arrayBuffer(), go.importObject)
      .then(result => {
        document
          .querySelector('#loading')
          .remove();
        go.run(result.instance);
      });
  })();
</script>
